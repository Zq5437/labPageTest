import{_ as a,h as e,s as l,c as s,i as t,r as o,j as d,o as i,a as r,X as c,b as n,k as u,F as v,g as m,t as p,d as f,e as b,w as g,D as y,E as h,G as _,H as k,aA as w,Y as V,K as x,L as j,I as q,f as U,aB as z,B as F,N as C,aC as E,W as I}from"./index-15981ab1.js";const B={class:"contact-page"},L={class:"container"},A={class:"contact-info-section"},D={class:"contact-cards"},G=["data-aos-delay"],H=["data-aos-delay"],K={class:"contact-content"},N=["data-aos-delay"],O=["data-aos-delay"],R={key:0,class:"lab-overview"},W={class:"overview-content"},X={class:"overview-text","data-aos":"fade-right"},Y={"data-aos":"fade-up"},J={key:0,class:"english-name","data-aos":"fade-up","data-aos-delay":"100"},M={class:"description","data-aos":"fade-up","data-aos-delay":"200"},P={class:"lab-details"},Q={key:0,class:"detail-item","data-aos":"fade-up","data-aos-delay":"300"},S={class:"detail-value"},T={key:1,class:"detail-item","data-aos":"fade-up","data-aos-delay":"400"},Z={class:"detail-value"},$={key:0,class:"overview-image","data-aos":"fade-left","data-aos-delay":"200"},aa=["src"],ea={class:"contact-form-section"},la={class:"form-container","data-aos":"fade-up","data-aos-delay":"200"},sa={class:"form-row"},ta={class:"form-row"},oa={class:"quick-links"},da={class:"links-grid"},ia=["data-aos-delay"],ra=["data-aos-delay"],ca=["data-aos-delay"],na={class:"link-arrow"},ua=a({__name:"Contact",setup(a){const ua=e(!1),va=e(!1),ma=e({}),pa=e(),fa=l({name:"",email:"",phone:"",subject:"",message:""}),ba={name:[{required:!0,message:"请输入您的姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],subject:[{required:!0,message:"请选择联系主题",trigger:"change"}],message:[{required:!0,message:"请输入留言内容",trigger:"blur"},{min:10,message:"留言内容至少10个字符",trigger:"blur"}]},ga=s(()=>[{icon:y,title:"实验室地址",value:ma.value.address||"地址信息加载中..."},{icon:h,title:"联系电话",value:ma.value.phone||"电话信息加载中..."},{icon:_,title:"邮箱地址",value:ma.value.email||"邮箱信息加载中..."},{icon:k,title:"官方网站",value:ma.value.website||"网站信息加载中..."}]),ya=[{path:"/members",icon:z,title:"团队成员",description:"了解我们的研究团队"},{path:"/research",icon:F,title:"研究方向",description:"探索我们的研究领域"},{path:"/recruitment",icon:C,title:"招生信息",description:"加入我们的研究团队"},{path:"/news",icon:E,title:"新闻动态",description:"了解最新研究进展"}],ha=async()=>{if(!pa.value)return console.error("表单引用不存在"),void V.error("表单初始化失败，请刷新页面重试");try{if(pa.value&&"function"==typeof pa.value.validate){if(!(await pa.value.validate()))return}else{if(!(fa.name&&fa.email&&fa.subject&&fa.message))return void V.error("请填写所有必填字段");if(fa.message.length<10)return void V.error("留言内容至少需要10个字符")}va.value=!0;await w.submit(fa);V.success("留言发送成功！我们会尽快回复您。"),pa.value&&"function"==typeof pa.value.resetFields&&pa.value.resetFields(),Object.keys(fa).forEach(a=>{fa[a]=""})}catch(a){console.error("发送留言失败:",a),console.error("错误详情:",{message:a.message,stack:a.stack,response:a.response});let e="发送留言失败，请稍后重试";a.message&&(e=a.message),V.error(e)}finally{va.value=!1}},_a=a=>{a.target.style.display="none"};return t(()=>{(async()=>{try{ua.value=!0;const a=await w.getLabInfo();a.data?ma.value=a.data||{}:(console.warn("实验室信息响应中没有data字段"),ma.value={})}catch(a){console.error("加载实验室信息失败:",a),console.error("错误详情:",{message:a.message,stack:a.stack,response:a.response}),V.error("加载实验室信息失败: "+(a.message||"未知错误"))}finally{ua.value=!1}})()}),(a,e)=>{const l=o("el-icon"),s=o("el-input"),t=o("el-form-item"),y=o("el-option"),k=o("el-select"),w=o("el-button"),V=o("el-form"),z=o("router-link"),F=d("loading");return i(),r("div",B,[e[11]||(e[11]=c('<div class="contact-header" data-v-c2246941><div class="header-background" data-v-c2246941><div class="gradient-orb orb-1" data-v-c2246941></div><div class="gradient-orb orb-2" data-v-c2246941></div><div class="gradient-orb orb-3" data-v-c2246941></div></div><div class="container" data-v-c2246941><div class="hero-badge" data-aos="fade-down" data-v-c2246941>保持联系 · 共同进步</div><h1 data-aos="fade-up" data-aos-delay="100" data-v-c2246941>联系我们</h1><p data-aos="fade-up" data-aos-delay="200" data-v-c2246941>欢迎与我们取得联系，我们期待与您的交流合作</p></div></div>',1)),n("div",L,[u((i(),r("section",A,[n("div",D,[(i(!0),r(v,null,m(ga.value,(a,s)=>(i(),r("div",{class:"contact-card",key:s,"data-aos":"fade-up","data-aos-delay":100*s},[n("div",{class:"contact-icon","data-aos":"zoom-in","data-aos-delay":100*s+200},[b(l,null,{default:g(()=>[(i(),x(j(a.icon)))]),_:2},1024)],8,H),n("div",K,[n("h3",{"data-aos":"fade-up","data-aos-delay":100*s+300},p(a.title),9,N),n("p",{"data-aos":"fade-up","data-aos-delay":100*s+400},p(a.value),9,O)]),e[5]||(e[5]=n("div",{class:"card-glow"},null,-1))],8,G))),128))])])),[[F,ua.value]]),ma.value.name?(i(),r("section",R,[n("div",W,[n("div",X,[n("h2",Y,p(ma.value.name),1),ma.value.name_en?(i(),r("h3",J,p(ma.value.name_en),1)):f("",!0),n("div",M,p(ma.value.description||"暂无实验室描述信息"),1),n("div",P,[ma.value.director?(i(),r("div",Q,[e[6]||(e[6]=n("span",{class:"detail-label"},"实验室主任：",-1)),n("span",S,p(ma.value.director),1)])):f("",!0),ma.value.established_year?(i(),r("div",T,[e[7]||(e[7]=n("span",{class:"detail-label"},"成立时间：",-1)),n("span",Z,p(ma.value.established_year)+"年",1)])):f("",!0)])]),ma.value.banner||ma.value.banner_url?(i(),r("div",$,[n("img",{src:ma.value.banner||ma.value.banner_url,alt:"实验室",onError:_a},null,40,aa),e[8]||(e[8]=n("div",{class:"image-overlay"},null,-1))])):f("",!0)])])):f("",!0),n("section",ea,[e[9]||(e[9]=n("div",{class:"form-header","data-aos":"fade-up"},[n("h2",null,"在线留言"),n("p",null,"请填写以下信息，我们将尽快回复您")],-1)),n("div",la,[b(V,{ref_key:"contactFormRef",ref:pa,model:fa,rules:ba,"label-position":"top",size:"large",class:"beautiful-form"},{default:g(()=>[n("div",sa,[b(t,{label:"姓名",prop:"name",class:"form-item-half"},{default:g(()=>[b(s,{modelValue:fa.name,"onUpdate:modelValue":e[0]||(e[0]=a=>fa.name=a),placeholder:"请输入您的姓名","prefix-icon":q(C),class:"beautiful-input"},null,8,["modelValue","prefix-icon"])]),_:1}),b(t,{label:"邮箱",prop:"email",class:"form-item-half"},{default:g(()=>[b(s,{modelValue:fa.email,"onUpdate:modelValue":e[1]||(e[1]=a=>fa.email=a),placeholder:"请输入您的邮箱","prefix-icon":q(_),class:"beautiful-input"},null,8,["modelValue","prefix-icon"])]),_:1})]),n("div",ta,[b(t,{label:"电话",prop:"phone",class:"form-item-half"},{default:g(()=>[b(s,{modelValue:fa.phone,"onUpdate:modelValue":e[2]||(e[2]=a=>fa.phone=a),placeholder:"请输入您的电话（可选）","prefix-icon":q(h),class:"beautiful-input"},null,8,["modelValue","prefix-icon"])]),_:1}),b(t,{label:"主题",prop:"subject",class:"form-item-half"},{default:g(()=>[b(k,{modelValue:fa.subject,"onUpdate:modelValue":e[3]||(e[3]=a=>fa.subject=a),placeholder:"请选择联系主题",style:{width:"100%"},class:"beautiful-select"},{default:g(()=>[b(y,{label:"学术合作",value:"academic"}),b(y,{label:"项目咨询",value:"project"}),b(y,{label:"招生咨询",value:"admission"}),b(y,{label:"设备使用",value:"equipment"}),b(y,{label:"其他咨询",value:"other"})]),_:1},8,["modelValue"])]),_:1})]),b(t,{label:"留言内容",prop:"message"},{default:g(()=>[b(s,{modelValue:fa.message,"onUpdate:modelValue":e[4]||(e[4]=a=>fa.message=a),type:"textarea",rows:6,placeholder:"请详细描述您的问题或需求...",maxlength:"1000","show-word-limit":"",class:"beautiful-textarea"},null,8,["modelValue"])]),_:1}),b(t,{class:"submit-form-item"},{default:g(()=>[b(w,{type:"primary",size:"large",onClick:ha,loading:va.value,class:"submit-button"},{default:g(()=>[U(p(va.value?"发送中...":"✉️ 发送留言"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),n("section",oa,[e[10]||(e[10]=n("h2",{"data-aos":"fade-up"},"快速链接",-1)),n("div",da,[(i(),r(v,null,m(ya,(a,e)=>b(z,{key:e,to:a.path,class:"link-card","data-aos":"fade-up","data-aos-delay":100*e},{default:g(()=>[n("div",{class:"link-icon","data-aos":"zoom-in","data-aos-delay":100*e+200},[b(l,null,{default:g(()=>[(i(),x(j(a.icon)))]),_:2},1024)],8,ia),n("h3",{"data-aos":"fade-up","data-aos-delay":100*e+300},p(a.title),9,ra),n("p",{"data-aos":"fade-up","data-aos-delay":100*e+400},p(a.description),9,ca),n("div",na,[b(l,null,{default:g(()=>[b(q(I))]),_:1})])]),_:2},1032,["to","data-aos-delay"])),64))])])])])}}},[["__scopeId","data-v-c2246941"]]);export{ua as default};
