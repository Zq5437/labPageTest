import{_ as e,h as l,s as a,c as s,i as t,r as i,j as n,o as d,a as c,b as u,e as o,w as r,t as v,d as p,k as m,F as y,g as f,l as g,Y as b,I as h,f as k,K as _,ay as w,Z as x,E as C,G as z,D as V}from"./index-6cdd0415.js";const U={class:"recruitment-page"},D={class:"container"},$={class:"filter-toolbar"},q={class:"filter-left"},T={class:"filter-right"},I={key:0,class:"stats-section"},S={class:"stats-item stats-item-1"},j={class:"stats-icon"},R={class:"stats-content"},B={class:"stats-number"},E={class:"stats-item stats-item-2"},F={class:"stats-icon"},G={class:"stats-content"},K={class:"stats-number"},L={class:"stats-item stats-item-3"},M={class:"stats-icon"},N={class:"stats-content"},P={class:"stats-number"},Y={key:0,class:"recruitment-list"},Z={class:"card-header"},A={class:"header-left"},H={class:"position-title"},J={class:"position-meta"},O={key:1,class:"deadline"},Q={key:3,class:"positions"},W={class:"header-right"},X={class:"card-content"},ee={class:"description"},le={key:0,class:"requirements"},ae={class:"requirements-content"},se={class:"details-grid"},te={key:0,class:"detail-item"},ie={class:"value"},ne={key:1,class:"detail-item"},de={class:"value"},ce={key:2,class:"detail-item"},ue={class:"value"},oe={key:3,class:"detail-item"},re={class:"value"},ve={key:1,class:"benefits"},pe={class:"benefits-content"},me={class:"card-actions"},ye={key:1,class:"recruitment-table"},fe={class:"row-left"},ge={class:"row-title"},be={class:"row-meta"},he={key:1,class:"row-deadline"},ke={key:2,class:"row-positions"},_e={class:"row-desc"},we={class:"row-right"},xe={key:2,class:"empty-state"},Ce={key:1,class:"pagination-container"},ze={key:2,class:"application-process"},Ve={class:"process-steps"},Ue={class:"step-number"},De={class:"step-content"},$e={key:3,class:"contact-section"},qe={class:"contact-info"},Te={class:"contact-item"},Ie={class:"contact-item"},Se={class:"contact-item"},je={key:0,class:"recruitment-detail"},Re={class:"detail-header"},Be={class:"position-info"},Ee={class:"position-tags"},Fe={class:"detail-content"},Ge={class:"detail-section"},Ke={key:0,class:"detail-section"},Le={class:"requirements-text"},Me={class:"detail-section"},Ne={class:"info-grid"},Pe={key:0,class:"info-item"},Ye={class:"value"},Ze={key:1,class:"info-item"},Ae={class:"value"},He={key:2,class:"info-item"},Je={class:"value"},Oe={key:3,class:"info-item"},Qe={class:"value"},We={key:4,class:"info-item"},Xe={class:"value"},el={key:5,class:"info-item"},ll={class:"value"},al={key:1,class:"detail-section"},sl={class:"benefits-text"},tl={key:2,class:"detail-section"},il={class:"contact-text"},nl=e({__name:"Recruitment",setup(e){const nl=l(!1),dl=l([]),cl=l("card"),ul=l(""),ol=l(""),rl=l(""),vl=l(!1),pl=l(null),ml=[{label:"硕士研究生",value:"master"},{label:"博士研究生",value:"phd"},{label:"博士后",value:"postdoc"},{label:"访问学者",value:"visiting"}],yl=[{label:"招生中",value:"open"},{label:"已满员",value:"filled"},{label:"已结束",value:"closed"}],fl=[{title:"查看职位",description:"浏览招生信息，选择合适的研究方向和导师"},{title:"准备材料",description:"准备个人简历、研究计划、推荐信等申请材料"},{title:"提交申请",description:"通过邮件或指定渠道提交完整的申请材料"},{title:"等待审核",description:"招生委员会将对申请材料进行审核评估"},{title:"面试交流",description:"通过初审的申请者将受邀参加面试或学术交流"},{title:"录取通知",description:"最终录取结果将通过邮件或电话通知"}],gl=a({page:1,limit:12,total:0}),bl=s(()=>dl.value),hl=s(()=>dl.value.filter(e=>Rl(e)).length),kl=s(()=>new Set(dl.value.map(e=>e.type)).size),_l=async()=>{try{nl.value=!0;const e={page:gl.page,limit:gl.limit,sort:"created_at",order:"DESC",type:ul.value||void 0,status:""!==ol.value?ol.value:"",search:rl.value||void 0},l=await g.get("/recruitment/list",{params:e});l.data&&(dl.value=l.data||[]),l.pagination&&(gl.total=l.pagination.total,gl.page=l.pagination.page,gl.limit=l.pagination.limit)}catch(e){console.error("加载招生信息失败:",e),b.error("加载招生信息失败")}finally{nl.value=!1}};let wl=null;const xl=()=>{wl&&clearTimeout(wl),wl=setTimeout(()=>{gl.page=1,_l()},500)},Cl=()=>{gl.page=1,_l()},zl=e=>{pl.value=e,vl.value=!0},Vl=async e=>{try{await w.confirm(`确定要申请"${e.title}"职位吗？这将打开邮件客户端发送申请邮件。`,"确认申请",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"});const l=encodeURIComponent(`申请职位：${e.title}`),a=`mailto:recruitment@lab.edu.cn?subject=${l}&body=${encodeURIComponent(`尊敬的老师，您好！\n\n我对贵实验室的"${e.title}"职位非常感兴趣，希望能够申请该职位。\n\n基本信息：\n- 职位类型：${Ul(e.type)}\n- 研究方向：${e.research_direction||"无"}\n- 指导教师：${e.supervisor||"无"}\n\n我将在后续邮件中发送详细的申请材料，包括个人简历、研究计划等。\n\n期待您的回复！\n\n此致\n敬礼！`)}`;window.open(a,"_self"),vl.value=!1,b.success("邮件客户端已打开，请完善申请内容后发送")}catch(l){}},Ul=e=>({master:"硕士研究生",phd:"博士研究生",postdoc:"博士后",visiting:"访问学者"}[e]||e),Dl=e=>({master:"warning",phd:"danger",postdoc:"info",visiting:"primary"}[e]||"default"),$l=e=>({open:"招生中",active:"招生中",closed:"已结束",filled:"已满员"}[e]||e),ql=e=>({open:"success",active:"success",closed:"info",filled:"warning"}[e]||"default"),Tl=e=>"active"===e?"open":e,Il=e=>!!e&&new Date(e).getTime()<Date.now(),Sl=e=>{if(!e)return null;const l=new Date(e).getTime()-Date.now();return l>0?Math.ceil(l/864e5):0},jl=e=>{const l=Sl(e);return null===l?"info":l<=0?"danger":l<=7?"warning":"success"},Rl=e=>{if(!e)return!1;const l=Tl(e.status),a="number"==typeof e.positions&&e.positions<=0;return"open"===l&&!Il(e.deadline)&&!a},Bl=e=>{if(!e)return"申请职位";if(Il(e.deadline))return"已截止";return"filled"===Tl(e.status)?"已满员":Rl(e)?"申请职位":"不可申请"},El=e=>e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"";return t(()=>{_l()}),(e,l)=>{var a;const s=i("el-icon"),t=i("el-input"),g=i("el-option"),b=i("el-select"),w=i("el-tag"),wl=i("el-button"),Tl=i("el-empty"),Fl=i("el-pagination"),Gl=i("el-dialog"),Kl=n("loading");return d(),c("div",U,[l[43]||(l[43]=u("div",{class:"recruitment-header"},[u("div",{class:"container"},[u("h1",null,"招生信息"),u("p",null,"加入我们，共创学术辉煌")])],-1)),u("div",D,[u("div",$,[u("div",q,[o(t,{modelValue:rl.value,"onUpdate:modelValue":l[0]||(l[0]=e=>rl.value=e),placeholder:"搜索职位、导师、方向...",style:{width:"300px"},clearable:"",onInput:xl},{prefix:r(()=>[o(s,null,{default:r(()=>[o(h(x))]),_:1})]),_:1},8,["modelValue"])]),u("div",T,[o(b,{modelValue:ul.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ul.value=e),placeholder:"选择类型",clearable:"",style:{width:"150px"},onChange:Cl},{default:r(()=>[(d(),c(y,null,f(ml,e=>o(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),o(b,{modelValue:ol.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ol.value=e),placeholder:"状态",clearable:"",style:{width:"120px"},onChange:Cl},{default:r(()=>[(d(),c(y,null,f(yl,e=>o(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),o(b,{modelValue:cl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>cl.value=e),style:{width:"120px"}},{default:r(()=>[o(g,{label:"卡片视图",value:"card"}),o(g,{label:"列表视图",value:"list"})]),_:1},8,["modelValue"])])]),nl.value?p("",!0):(d(),c("div",I,[u("div",S,[u("div",j,[o(s,null,{default:r(()=>[o(h(x))]),_:1})]),u("div",R,[u("span",B,v(gl.total),1),l[9]||(l[9]=u("span",{class:"stats-label"},"招生岗位",-1))]),l[10]||(l[10]=u("div",{class:"stats-decoration"},null,-1))]),u("div",E,[u("div",F,[o(s,null,{default:r(()=>[o(h(C))]),_:1})]),u("div",G,[u("span",K,v(hl.value),1),l[11]||(l[11]=u("span",{class:"stats-label"},"可申请",-1))]),l[12]||(l[12]=u("div",{class:"stats-decoration"},null,-1))]),u("div",L,[u("div",M,[o(s,null,{default:r(()=>[o(h(z))]),_:1})]),u("div",N,[u("span",P,v(kl.value),1),l[13]||(l[13]=u("span",{class:"stats-label"},"岗位类型",-1))]),l[14]||(l[14]=u("div",{class:"stats-decoration"},null,-1))])])),m((d(),c("div",null,["card"===cl.value?(d(),c("div",Y,[(d(!0),c(y,null,f(bl.value,e=>(d(),c("div",{key:e.id,class:"recruitment-card"},[u("div",Z,[u("div",A,[u("h3",H,v(e.title),1),u("div",J,[o(w,{type:Dl(e.type),size:"small"},{default:r(()=>[k(v(Ul(e.type)),1)]),_:2},1032,["type"]),e.is_featured?(d(),_(w,{key:0,type:"warning",size:"small"},{default:r(()=>[...l[15]||(l[15]=[k("推荐",-1)])]),_:1})):p("",!0),e.deadline?(d(),c("span",O," 截止："+v(El(e.deadline)),1)):p("",!0),e.deadline&&!Il(e.deadline)?(d(),_(w,{key:2,type:jl(e.deadline),size:"small",class:"time-left"},{default:r(()=>[k(" 剩余"+v(Sl(e.deadline))+"天 ",1)]),_:2},1032,["type"])):p("",!0),e.positions?(d(),c("span",Q," 名额："+v(e.positions)+"人 ",1)):p("",!0)])]),u("div",W,[o(w,{type:ql(e.status),effect:"dark"},{default:r(()=>[k(v($l(e.status)),1)]),_:2},1032,["type"])])]),u("div",X,[u("p",ee,v(e.description),1),e.requirements?(d(),c("div",le,[l[16]||(l[16]=u("h4",null,"申请要求",-1)),u("div",ae,v(e.requirements),1)])):p("",!0),u("div",se,[e.supervisor?(d(),c("div",te,[l[17]||(l[17]=u("span",{class:"label"},"导师：",-1)),u("span",ie,v(e.supervisor),1)])):p("",!0),e.research_direction?(d(),c("div",ne,[l[18]||(l[18]=u("span",{class:"label"},"研究方向：",-1)),u("span",de,v(e.research_direction),1)])):p("",!0),e.degree_type?(d(),c("div",ce,[l[19]||(l[19]=u("span",{class:"label"},"学位类型：",-1)),u("span",ue,v(e.degree_type),1)])):p("",!0),e.duration?(d(),c("div",oe,[l[20]||(l[20]=u("span",{class:"label"},"培养周期：",-1)),u("span",re,v(e.duration),1)])):p("",!0)]),e.benefits?(d(),c("div",ve,[l[21]||(l[21]=u("h4",null,"待遇福利",-1)),u("div",pe,v(e.benefits),1)])):p("",!0)]),u("div",me,[o(wl,{onClick:l=>zl(e)},{default:r(()=>[...l[22]||(l[22]=[k(" 查看详情 ",-1)])]),_:1},8,["onClick"]),o(wl,{type:"primary",disabled:!Rl(e),onClick:l=>Vl(e)},{default:r(()=>[k(v(Bl(e)),1)]),_:2},1032,["disabled","onClick"])])]))),128))])):(d(),c("div",ye,[(d(!0),c(y,null,f(bl.value,e=>(d(),c("div",{key:e.id,class:"recruitment-row"},[u("div",fe,[u("h3",ge,v(e.title),1),u("div",be,[o(w,{size:"small",type:Dl(e.type)},{default:r(()=>[k(v(Ul(e.type)),1)]),_:2},1032,["type"]),e.is_featured?(d(),_(w,{key:0,size:"small",type:"warning"},{default:r(()=>[...l[23]||(l[23]=[k("推荐",-1)])]),_:1})):p("",!0),e.deadline?(d(),c("span",he,"截止："+v(El(e.deadline)),1)):p("",!0),e.positions?(d(),c("span",ke,"名额："+v(e.positions)+"人",1)):p("",!0)]),u("p",_e,v(e.description),1)]),u("div",we,[o(w,{type:ql(e.status),effect:"dark"},{default:r(()=>[k(v($l(e.status)),1)]),_:2},1032,["type"]),o(wl,{type:"primary",size:"small",disabled:!Rl(e),onClick:l=>Vl(e)},{default:r(()=>[...l[24]||(l[24]=[k("申请",-1)])]),_:1},8,["disabled","onClick"]),o(wl,{size:"small",onClick:l=>zl(e)},{default:r(()=>[...l[25]||(l[25]=[k("详情",-1)])]),_:1},8,["onClick"])])]))),128))])),nl.value||0!==bl.value.length?p("",!0):(d(),c("div",xe,[o(Tl,{description:"暂无招生信息"})]))])),[[Kl,nl.value]]),gl.total>0?(d(),c("div",Ce,[o(Fl,{"current-page":gl.page,"onUpdate:currentPage":l[4]||(l[4]=e=>gl.page=e),"page-size":gl.limit,"onUpdate:pageSize":l[5]||(l[5]=e=>gl.limit=e),"page-sizes":[6,12,18,24],total:gl.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:_l,onCurrentChange:_l},null,8,["current-page","page-size","total"])])):p("",!0),dl.value.length>0?(d(),c("div",ze,[l[26]||(l[26]=u("h2",null,"申请流程",-1)),u("div",Ve,[(d(),c(y,null,f(fl,(e,l)=>u("div",{class:"step-item",key:l},[u("div",Ue,v(l+1),1),u("div",De,[u("h4",null,v(e.title),1),u("p",null,v(e.description),1)])])),64))])])):p("",!0),dl.value.length>0?(d(),c("div",$e,[l[30]||(l[30]=u("h2",null,"联系我们",-1)),u("div",qe,[u("div",Te,[o(s,null,{default:r(()=>[o(h(C))]),_:1}),l[27]||(l[27]=u("div",null,[u("h4",null,"电话咨询"),u("p",null,"+86 xxx-xxxx-xxxx")],-1))]),u("div",Ie,[o(s,null,{default:r(()=>[o(h(z))]),_:1}),l[28]||(l[28]=u("div",null,[u("h4",null,"邮件咨询"),u("p",null,"recruitment@lab.edu.cn")],-1))]),u("div",Se,[o(s,null,{default:r(()=>[o(h(V))]),_:1}),l[29]||(l[29]=u("div",null,[u("h4",null,"地址"),u("p",null,"请查看联系我们页面获取详细地址")],-1))])])])):p("",!0)]),o(Gl,{modelValue:vl.value,"onUpdate:modelValue":l[8]||(l[8]=e=>vl.value=e),title:null==(a=pl.value)?void 0:a.title,width:"800px","destroy-on-close":""},{footer:r(()=>[o(wl,{onClick:l[6]||(l[6]=e=>vl.value=!1)},{default:r(()=>[...l[42]||(l[42]=[k("关闭",-1)])]),_:1}),o(wl,{type:"primary",disabled:!pl.value||!Rl(pl.value),onClick:l[7]||(l[7]=e=>Vl(pl.value))},{default:r(()=>[k(v(pl.value?Bl(pl.value):"申请职位"),1)]),_:1},8,["disabled"])]),default:r(()=>[pl.value?(d(),c("div",je,[u("div",Re,[u("div",Be,[u("h2",null,v(pl.value.title),1),u("div",Ee,[o(w,{type:Dl(pl.value.type)},{default:r(()=>[k(v(Ul(pl.value.type)),1)]),_:1},8,["type"]),o(w,{type:ql(pl.value.status),effect:"dark"},{default:r(()=>[k(v($l(pl.value.status)),1)]),_:1},8,["type"])])])]),u("div",Fe,[u("div",Ge,[l[31]||(l[31]=u("h3",null,"职位描述",-1)),u("p",null,v(pl.value.description),1)]),pl.value.requirements?(d(),c("div",Ke,[l[32]||(l[32]=u("h3",null,"申请要求",-1)),u("div",Le,v(pl.value.requirements),1)])):p("",!0),u("div",Me,[l[39]||(l[39]=u("h3",null,"基本信息",-1)),u("div",Ne,[pl.value.supervisor?(d(),c("div",Pe,[l[33]||(l[33]=u("span",{class:"label"},"指导教师：",-1)),u("span",Ye,v(pl.value.supervisor),1)])):p("",!0),pl.value.research_direction?(d(),c("div",Ze,[l[34]||(l[34]=u("span",{class:"label"},"研究方向：",-1)),u("span",Ae,v(pl.value.research_direction),1)])):p("",!0),pl.value.degree_type?(d(),c("div",He,[l[35]||(l[35]=u("span",{class:"label"},"学位类型：",-1)),u("span",Je,v(pl.value.degree_type),1)])):p("",!0),pl.value.duration?(d(),c("div",Oe,[l[36]||(l[36]=u("span",{class:"label"},"培养周期：",-1)),u("span",Qe,v(pl.value.duration),1)])):p("",!0),pl.value.positions?(d(),c("div",We,[l[37]||(l[37]=u("span",{class:"label"},"招生名额：",-1)),u("span",Xe,v(pl.value.positions)+"人",1)])):p("",!0),pl.value.deadline?(d(),c("div",el,[l[38]||(l[38]=u("span",{class:"label"},"申请截止：",-1)),u("span",ll,v(El(pl.value.deadline)),1)])):p("",!0)])]),pl.value.benefits?(d(),c("div",al,[l[40]||(l[40]=u("h3",null,"待遇福利",-1)),u("div",sl,v(pl.value.benefits),1)])):p("",!0),pl.value.contact_info?(d(),c("div",tl,[l[41]||(l[41]=u("h3",null,"联系方式",-1)),u("div",il,v(pl.value.contact_info),1)])):p("",!0)])])):p("",!0)]),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-fee15ea4"]]);export{nl as default};
