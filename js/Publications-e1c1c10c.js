import{_ as a,h as e,s as l,c as t,i as s,r as i,j as c,o as n,a as o,b as r,X as d,e as u,w as v,t as p,d as h,k as m,av as g,l as b,Y as y,I as f,F as k,g as _,K as w,J as C,f as V,n as x,aw as z,x as H,M,O as j,a5 as B,Z as D,a6 as U,a7 as I,H as S}from"./index-37d95f7e.js";const Z={class:"publications-page"},F={class:"publications-header"},O={class:"container"},P={class:"header-content"},$={class:"header-stats"},L={key:0,class:"header-stat-item stat-item-1"},T={class:"stat-icon"},A={class:"stat-content"},E={class:"stat-value"},J={key:1,class:"header-stat-item stat-item-2"},K={class:"stat-icon"},N={class:"stat-content"},X={class:"stat-value"},Y={key:2,class:"header-stat-item stat-item-3"},q={class:"stat-icon"},G={class:"stat-content"},Q={class:"stat-value"},R={key:3,class:"header-stat-item stat-item-4"},W={class:"stat-icon"},aa={class:"stat-content"},ea={class:"stat-value"},la={class:"container"},ta={class:"filter-section"},sa={class:"filter-toolbar"},ia={class:"search-wrapper"},ca={class:"filter-controls"},na={class:"publications-list"},oa={class:"card-visual"},ra={key:0,class:"visual-image"},da={class:"image-error"},ua={class:"image-overlay"},va={class:"view-hint"},pa={class:"publication-year"},ha={key:1,class:"visual-placeholder"},ma={class:"publication-year"},ga={key:2,class:"type-badge"},ba={class:"card-content"},ya={class:"content-header"},fa={class:"publication-title"},ka={class:"metrics"},_a={key:0,class:"metric-badge citation"},wa={key:1,class:"metric-badge impact"},Ca={class:"publication-meta"},Va={class:"meta-item authors"},xa={class:"meta-item journal"},za={class:"meta-item date"},Ha={key:0,class:"publication-abstract"},Ma={class:"card-actions"},ja=["onClick"],Ba=["onClick"],Da=["onClick"],Ua={key:0,class:"expanded-content"},Ia={key:0,class:"abstract-section"},Sa={key:1,class:"keywords-section"},Za={class:"keywords-list"},Fa={key:0,class:"empty-state"},Oa={key:0,class:"pagination-container"},Pa=a({__name:"Publications",setup(a){const Pa=e(!1),$a=e([]),La=e([]),Ta=e([]),Aa=e([]),Ea=l({search:"",category:"",year:""}),Ja=e("publish_date"),Ka=l({page:1,limit:10,total:0});let Na=null;const Xa=t(()=>$a.value.reduce((a,e)=>a+(e.citation_count||0),0)),Ya=t(()=>$a.value.filter(a=>"journal"===a.type).length),qa=t(()=>$a.value.filter(a=>"conference"===a.type).length),Ga=async()=>{try{Pa.value=!0;const a={page:Ka.page,limit:Ka.limit,sort:Ja.value,order:(Ja.value,"DESC"),...Ea},e=await b.get("/publications/list",{params:a});$a.value=e.data||[],e.pagination&&(Ka.total=e.pagination.total,Ka.page=e.pagination.page,Ka.limit=e.pagination.limit)}catch(a){console.error("加载论文列表失败:",a),y.error("加载论文列表失败")}finally{Pa.value=!1}},Qa=()=>{Na&&clearTimeout(Na),Na=setTimeout(()=>{Ka.page=1,Ga()},500)};return s(()=>{Ga(),(async()=>{try{const a=await b.get("/publications/stats/categories");La.value=a.data||[]}catch(a){console.error("加载分类失败:",a)}})(),(async()=>{try{const a=await b.get("/publications/stats/years");Ta.value=a.data||[]}catch(a){console.error("加载年份失败:",a)}})()}),(a,e)=>{const l=i("el-icon"),t=i("el-input"),s=i("el-option"),b=i("el-select"),y=i("el-image"),Na=i("el-pagination"),Ra=c("loading");return n(),o("div",Z,[r("div",F,[e[11]||(e[11]=r("div",{class:"header-bg-pattern"},null,-1)),r("div",O,[r("div",P,[e[10]||(e[10]=d('<div class="header-icon" data-v-ca00c1bc><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-ca00c1bc><path d="M9 11H7C6.44772 11 6 11.4477 6 12V19C6 19.5523 6.44772 20 7 20H9C9.55228 20 10 19.5523 10 19V12C10 11.4477 9.55228 11 9 11Z" fill="currentColor" data-v-ca00c1bc></path><path d="M13 7C12.4477 7 12 7.44772 12 8V19C12 19.5523 12.4477 20 13 20H15C15.5523 20 16 19.5523 16 19V8C16 7.44772 15.5523 7 15 7H13Z" fill="currentColor" data-v-ca00c1bc></path><path d="M17 4C17 3.44772 17.4477 3 18 3H20C20.5523 3 21 3.44772 21 4V19C21 19.5523 20.5523 20 20 20H18C17.4477 20 17 19.5523 17 19V4Z" fill="currentColor" data-v-ca00c1bc></path></svg></div><h1 data-v-ca00c1bc>学术成果</h1><p data-v-ca00c1bc>探索实验室前沿研究与学术贡献</p>',3)),r("div",$,[Pa.value?h("",!0):(n(),o("div",L,[r("div",T,[u(l,null,{default:v(()=>[u(f(H))]),_:1})]),r("div",A,[r("span",E,p(Ka.total),1),e[6]||(e[6]=r("span",{class:"stat-label"},"发表论文",-1))])])),Pa.value?h("",!0):(n(),o("div",J,[r("div",K,[u(l,null,{default:v(()=>[u(f(M))]),_:1})]),r("div",N,[r("span",X,p(Xa.value),1),e[7]||(e[7]=r("span",{class:"stat-label"},"总引用",-1))])])),Pa.value?h("",!0):(n(),o("div",Y,[r("div",q,[u(l,null,{default:v(()=>[u(f(j))]),_:1})]),r("div",G,[r("span",Q,p(Ya.value),1),e[8]||(e[8]=r("span",{class:"stat-label"},"期刊论文",-1))])])),Pa.value?h("",!0):(n(),o("div",R,[r("div",W,[u(l,null,{default:v(()=>[u(f(B))]),_:1})]),r("div",aa,[r("span",ea,p(qa.value),1),e[9]||(e[9]=r("span",{class:"stat-label"},"会议论文",-1))])]))])])])]),r("div",la,[r("div",ta,[r("div",sa,[r("div",ia,[u(t,{modelValue:Ea.search,"onUpdate:modelValue":e[0]||(e[0]=a=>Ea.search=a),placeholder:"搜索论文标题、作者、期刊、关键词...",class:"search-input",clearable:"",onInput:Qa},{prefix:v(()=>[u(l,null,{default:v(()=>[u(f(D))]),_:1})]),_:1},8,["modelValue"])]),r("div",ca,[u(b,{modelValue:Ea.category,"onUpdate:modelValue":e[1]||(e[1]=a=>Ea.category=a),placeholder:"所有分类",clearable:"",class:"filter-select"},{default:v(()=>[(n(!0),o(k,null,_(La.value,a=>(n(),w(s,{key:a.category,label:a.category,value:a.category},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(b,{modelValue:Ea.year,"onUpdate:modelValue":e[2]||(e[2]=a=>Ea.year=a),placeholder:"所有年份",clearable:"",class:"filter-select"},{default:v(()=>[(n(!0),o(k,null,_(Ta.value,a=>(n(),w(s,{key:a.year,label:a.year,value:a.year},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(b,{modelValue:Ja.value,"onUpdate:modelValue":e[3]||(e[3]=a=>Ja.value=a),class:"filter-select",onChange:Ga},{default:v(()=>[u(s,{label:"最新发表",value:"publish_date"}),u(s,{label:"引用最多",value:"citation_count"}),u(s,{label:"影响因子",value:"impact_factor"})]),_:1},8,["modelValue"])])])]),m((n(),o("div",na,[u(g,{name:"list",tag:"div",class:"list-container"},{default:v(()=>[(n(!0),o(k,null,_($a.value,(a,t)=>{return n(),o("div",{key:a.id,class:"publication-card",style:C({animationDelay:.1*t+"s"})},[r("div",oa,[a.cover_image_url?(n(),o("div",ra,[u(y,{src:a.cover_image_url,alt:a.title,fit:"cover","preview-src-list":[a.cover_image_url],"initial-index":0,"preview-teleported":!0},{error:v(()=>[r("div",da,[u(l,null,{default:v(()=>[u(f(U))]),_:1}),e[12]||(e[12]=r("span",null,"加载失败",-1))])]),_:1},8,["src","alt","preview-src-list"]),r("div",ua,[r("div",va,[u(l,null,{default:v(()=>[u(f(I))]),_:1}),e[13]||(e[13]=r("span",null,"点击查看大图",-1))]),r("div",pa,p(a.year||a.publish_date),1)])])):(n(),o("div",ha,[e[14]||(e[14]=r("div",{class:"placeholder-icon"},[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),r("div",ma,p(a.year||a.publish_date),1)])),a.type?(n(),o("div",ga,p((i=a.type,{journal:"期刊论文",conference:"会议论文",book_chapter:"专著章节",patent:"专利",thesis:"学位论文"}[i]||i)),1)):h("",!0)]),r("div",ba,[r("div",ya,[r("h3",fa,p(a.title),1),r("div",ka,[a.citation_count?(n(),o("span",_a,[u(l,null,{default:v(()=>[u(f(M))]),_:1}),r("span",null,p(a.citation_count),1)])):h("",!0),a.impact_factor?(n(),o("span",wa,[e[15]||(e[15]=r("span",{class:"if-label"},"IF",-1)),r("span",null,p(a.impact_factor),1)])):h("",!0)])]),r("div",Ca,[r("div",Va,[e[16]||(e[16]=r("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})],-1)),V(" "+p(a.authors),1)]),r("div",xa,[e[17]||(e[17]=r("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z"}),r("path",{d:"M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V7z"})],-1)),V(" "+p(a.journal),1)]),r("div",za,[e[18]||(e[18]=r("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"})],-1)),V(" "+p((s=a.publish_date,s?"number"==typeof s||/^\d{4}$/.test(String(s))?`${s}年`:new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"long"}):"")),1)])]),a.abstract?(n(),o("p",Ha,p(a.abstract.substring(0,200))+p(a.abstract.length>200?"...":""),1)):h("",!0),r("div",Ma,[a.pdf_url?(n(),o("button",{key:0,class:"action-btn primary",onClick:e=>{return l=a.pdf_url,void window.open(l,"_blank");var l}},[u(l,null,{default:v(()=>[u(f(H))]),_:1}),e[19]||(e[19]=r("span",null,"PDF全文",-1))],8,ja)):h("",!0),a.doi?(n(),o("button",{key:1,class:"action-btn secondary",onClick:e=>{return l=a.doi,void window.open(`https://doi.org/${l}`,"_blank");var l}},[u(l,null,{default:v(()=>[u(f(S))]),_:1}),e[20]||(e[20]=r("span",null,"DOI",-1))],8,Ba)):h("",!0),r("button",{class:"action-btn text",onClick:e=>(a=>{const e=Aa.value.indexOf(a);e>-1?Aa.value.splice(e,1):Aa.value.push(a)})(a.id)},[r("span",null,p(Aa.value.includes(a.id)?"收起详情":"查看详情"),1),(n(),o("svg",{class:x(["arrow-icon",{expanded:Aa.value.includes(a.id)}]),viewBox:"0 0 20 20",fill:"currentColor"},[...e[21]||(e[21]=[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"},null,-1)])],2))],8,Da)]),u(z,{name:"expand"},{default:v(()=>{return[Aa.value.includes(a.id)?(n(),o("div",Ua,[a.abstract?(n(),o("div",Ia,[e[22]||(e[22]=r("h4",null,"摘要",-1)),r("p",null,p(a.abstract),1)])):h("",!0),a.keywords?(n(),o("div",Sa,[e[23]||(e[23]=r("h4",null,"关键词",-1)),r("div",Za,[(n(!0),o(k,null,_((l=a.keywords,l?l.split(",").map(a=>a.trim()).filter(a=>a):[]),a=>(n(),o("span",{key:a,class:"keyword-tag"},p(a),1))),128))])])):h("",!0)])):h("",!0)];var l}),_:2},1024)])],4);var s,i}),128))]),_:1}),Pa.value||0!==$a.value.length?h("",!0):(n(),o("div",Fa,[...e[24]||(e[24]=[r("div",{class:"empty-icon"},[r("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),r("h3",null,"暂无论文数据",-1),r("p",null,"当前筛选条件下没有找到相关论文",-1)])]))])),[[Ra,Pa.value]]),Ka.total>0?(n(),o("div",Oa,[u(Na,{"current-page":Ka.page,"onUpdate:currentPage":e[4]||(e[4]=a=>Ka.page=a),"page-size":Ka.limit,"onUpdate:pageSize":e[5]||(e[5]=a=>Ka.limit=a),"page-sizes":[10,20,30,50],total:Ka.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Ga,onCurrentChange:Ga,background:""},null,8,["current-page","page-size","total"])])):h("",!0)])])}}},[["__scopeId","data-v-ca00c1bc"]]);export{Pa as default};
